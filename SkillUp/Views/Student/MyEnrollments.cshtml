@using SkillUP.DataAccessLayer.Entities
@model List<Enrollment>

<partial name="~/Views/Shared/_Notifications.cshtml" />



<h2 class="m-5">My Enrollments</h2>


@foreach (var enrollment in Model)
{
  

    <div class="container mt-5" style="max-width: 1200px;">
        <div class="row justify-content-end g-4">
           
            <div class="col-md-12">
               
                <div class="card mb-3" style="max-width: 550px; ">
                  
                    <div class="row g-0">
                        <div class="col-md-5">
                           
                            <img src="@Url.Content($"~/Images/Courses/{enrollment.Course.ImgUrl}")"
                                 class="img-fluid rounded-start"
                                 alt="Course Image"
                                 style="width: 100%; height:150px; object-fit: cover; border: 2px solid #ddd; border-radius: 5px;">
                        </div>
                        <div class="col-md-7 position-relative">
                            <div class="card-body">
                                <h5 class="card-title">@enrollment.Course.Title</h5>
                                <p>@enrollment.Course.TotalHours Hrs</p>
                            </div>
                            <a href='/Home/GetCourseDetails/{item.Id}' class="btn btn-primary m-2 position-absolute">Go To Course</a> <!-- Added margin -->
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
}







@* <button id="update-progress-btn">Update Progress</button>
<script>
    document.getElementById('update-progress-btn').onclick = function () {
        const inputs = document.querySelectorAll('.progress-input');
        inputs.forEach(input => {
            const enrollmentId = input.getAttribute('data-enrollment-id').split('_'); // Split the composite key
            const courseId = enrollmentId[0]; // First part of the composite key
            const studentId = enrollmentId[1]; // Second part of the composite key
            const progress = input.value;

            // Make an AJAX call to update the progress
            fetch('/Enrollment/UpdateProgress', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ courseId, studentId, progress }) // Send both keys
            }).then(response => {
                if (response.ok) {
                    // Handle success
                    alert('Progress updated!');
                }
            });
        });
    };
</script>
 *@